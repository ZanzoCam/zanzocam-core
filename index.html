

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZanzoCam - Internal documentation &mdash; zanzocam-core 1.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=fc837d61"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            zanzocam-core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">ZanzoCam - Internal documentation</a><ul>
<li><a class="reference internal" href="#constants">Constants</a><ul>
<li><a class="reference internal" href="#zanzocam.constants.AUTOHOTSPOT_BINARY_PATH"><code class="docutils literal notranslate"><span class="pre">AUTOHOTSPOT_BINARY_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.BACKUP_CRONJOB"><code class="docutils literal notranslate"><span class="pre">BACKUP_CRONJOB</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.BASE_PATH"><code class="docutils literal notranslate"><span class="pre">BASE_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CAMERA_DEFAULTS"><code class="docutils literal notranslate"><span class="pre">CAMERA_DEFAULTS</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CAMERA_LOGS"><code class="docutils literal notranslate"><span class="pre">CAMERA_LOGS</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CAMERA_WARM_UP_TIME"><code class="docutils literal notranslate"><span class="pre">CAMERA_WARM_UP_TIME</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CHECK_UPLINK_URL"><code class="docutils literal notranslate"><span class="pre">CHECK_UPLINK_URL</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CONFIGURATION_FILE"><code class="docutils literal notranslate"><span class="pre">CONFIGURATION_FILE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.CRONJOB_FILE"><code class="docutils literal notranslate"><span class="pre">CRONJOB_FILE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.DATA_PATH"><code class="docutils literal notranslate"><span class="pre">DATA_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.FAILURE_REPORT_PATH"><code class="docutils literal notranslate"><span class="pre">FAILURE_REPORT_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.FONT_PATH"><code class="docutils literal notranslate"><span class="pre">FONT_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.FTP_CONFIG_FILE_ENCODING"><code class="docutils literal notranslate"><span class="pre">FTP_CONFIG_FILE_ENCODING</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.IMAGE_OVERLAYS_PATH"><code class="docutils literal notranslate"><span class="pre">IMAGE_OVERLAYS_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.INITIAL_LOW_LIGHT_ISO"><code class="docutils literal notranslate"><span class="pre">INITIAL_LOW_LIGHT_ISO</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.LOCALE"><code class="docutils literal notranslate"><span class="pre">LOCALE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.LOG_NAME_FORMAT"><code class="docutils literal notranslate"><span class="pre">LOG_NAME_FORMAT</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.MAX_SHUTTER_SPEED"><code class="docutils literal notranslate"><span class="pre">MAX_SHUTTER_SPEED</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.MINIMUM_DAYLIGHT_LUMINANCE"><code class="docutils literal notranslate"><span class="pre">MINIMUM_DAYLIGHT_LUMINANCE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.MINIMUM_NIGHT_LUMINANCE"><code class="docutils literal notranslate"><span class="pre">MINIMUM_NIGHT_LUMINANCE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.MIN_SHUTTER_SPEED"><code class="docutils literal notranslate"><span class="pre">MIN_SHUTTER_SPEED</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.NO_LUMINANCE_SHUTTER_SPEED"><code class="docutils literal notranslate"><span class="pre">NO_LUMINANCE_SHUTTER_SPEED</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.NO_LUMINANCE_THRESHOLD"><code class="docutils literal notranslate"><span class="pre">NO_LUMINANCE_THRESHOLD</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.OVERLAY_DEFAULTS"><code class="docutils literal notranslate"><span class="pre">OVERLAY_DEFAULTS</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.PICAMERA_AWB_MODES"><code class="docutils literal notranslate"><span class="pre">PICAMERA_AWB_MODES</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.PICTURE_LOGS"><code class="docutils literal notranslate"><span class="pre">PICTURE_LOGS</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.PREVIEW_PICTURE"><code class="docutils literal notranslate"><span class="pre">PREVIEW_PICTURE</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.PREVIEW_PICTURE_URL"><code class="docutils literal notranslate"><span class="pre">PREVIEW_PICTURE_URL</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.REMOTE_IMAGES_PATH"><code class="docutils literal notranslate"><span class="pre">REMOTE_IMAGES_PATH</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.REQUEST_TIMEOUT"><code class="docutils literal notranslate"><span class="pre">REQUEST_TIMEOUT</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.SEND_LOGS_FLAG"><code class="docutils literal notranslate"><span class="pre">SEND_LOGS_FLAG</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.SERVER_LOG"><code class="docutils literal notranslate"><span class="pre">SERVER_LOG</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.SYSTEM_USER"><code class="docutils literal notranslate"><span class="pre">SYSTEM_USER</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.TARGET_LUMINOSITY_MARGIN"><code class="docutils literal notranslate"><span class="pre">TARGET_LUMINOSITY_MARGIN</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.TEMP_CRONJOB"><code class="docutils literal notranslate"><span class="pre">TEMP_CRONJOB</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.VERSION"><code class="docutils literal notranslate"><span class="pre">VERSION</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.WAIT_AFTER_CAMERA_FAIL"><code class="docutils literal notranslate"><span class="pre">WAIT_AFTER_CAMERA_FAIL</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.constants.ZANZOCAM_EXECUTABLE"><code class="docutils literal notranslate"><span class="pre">ZANZOCAM_EXECUTABLE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#main-module">Main module</a></li>
<li><a class="reference internal" href="#configuration-module">Configuration module</a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration"><code class="docutils literal notranslate"><span class="pre">Configuration</span></code></a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.backup"><code class="docutils literal notranslate"><span class="pre">Configuration.backup()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.create_from_dictionary"><code class="docutils literal notranslate"><span class="pre">Configuration.create_from_dictionary()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.get_camera_settings"><code class="docutils literal notranslate"><span class="pre">Configuration.get_camera_settings()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.get_server_settings"><code class="docutils literal notranslate"><span class="pre">Configuration.get_server_settings()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.get_start_time"><code class="docutils literal notranslate"><span class="pre">Configuration.get_start_time()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.get_stop_time"><code class="docutils literal notranslate"><span class="pre">Configuration.get_stop_time()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.get_system_settings"><code class="docutils literal notranslate"><span class="pre">Configuration.get_system_settings()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.list_overlays"><code class="docutils literal notranslate"><span class="pre">Configuration.list_overlays()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.restore_backup"><code class="docutils literal notranslate"><span class="pre">Configuration.restore_backup()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration.within_active_hours"><code class="docutils literal notranslate"><span class="pre">Configuration.within_active_hours()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zanzocam.webcam.configuration.load_configuration_from_disk"><code class="docutils literal notranslate"><span class="pre">load_configuration_from_disk()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#system-module">System module</a></li>
<li><a class="reference internal" href="#camera-module">Camera module</a></li>
<li><a class="reference internal" href="#overlays-module">Overlays module</a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.overlays.Overlay"><code class="docutils literal notranslate"><span class="pre">Overlay</span></code></a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.overlays.Overlay.compute_position"><code class="docutils literal notranslate"><span class="pre">Overlay.compute_position()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.overlays.Overlay.create_image_overlay"><code class="docutils literal notranslate"><span class="pre">Overlay.create_image_overlay()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.overlays.Overlay.create_text_overlay"><code class="docutils literal notranslate"><span class="pre">Overlay.create_text_overlay()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.overlays.Overlay.process_text"><code class="docutils literal notranslate"><span class="pre">Overlay.process_text()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#utils-module">Utils module</a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.utils.AllStringEncoder"><code class="docutils literal notranslate"><span class="pre">AllStringEncoder</span></code></a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.utils.AllStringEncoder.default"><code class="docutils literal notranslate"><span class="pre">AllStringEncoder.default()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zanzocam.webcam.utils.log"><code class="docutils literal notranslate"><span class="pre">log()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.utils.log_error"><code class="docutils literal notranslate"><span class="pre">log_error()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.utils.log_row"><code class="docutils literal notranslate"><span class="pre">log_row()</span></code></a></li>
<li><a class="reference internal" href="#zanzocam.webcam.utils.retry"><code class="docutils literal notranslate"><span class="pre">retry()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-errors">Custom Errors</a><ul>
<li><a class="reference internal" href="#zanzocam.webcam.errors.ServerError"><code class="docutils literal notranslate"><span class="pre">ServerError</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">zanzocam-core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ZanzoCam - Internal documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zanzocam-internal-documentation">
<h1>ZanzoCam - Internal documentation<a class="headerlink" href="#zanzocam-internal-documentation" title="Link to this heading"></a></h1>
<p>Internal documentation for <code class="docutils literal notranslate"><span class="pre">zanzocam-core</span></code>.</p>
<p>Better documentation coming soon.</p>
<hr class="docutils" />
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading"></a></h2>
<p>Details of the constants stored in the <code class="docutils literal notranslate"><span class="pre">zanzocam.constants</span></code> module.</p>
<dl class="py data" id="module-zanzocam.constants">
<dt class="sig sig-object py" id="zanzocam.constants.AUTOHOTSPOT_BINARY_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">AUTOHOTSPOT_BINARY_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/usr/bin/autohotspot'</span></em><a class="headerlink" href="#zanzocam.constants.AUTOHOTSPOT_BINARY_PATH" title="Link to this definition"></a></dt>
<dd><p>Path to the autohotspot script</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.BACKUP_CRONJOB">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">BACKUP_CRONJOB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/.crontab.bak')</span></em><a class="headerlink" href="#zanzocam.constants.BACKUP_CRONJOB" title="Link to this definition"></a></dt>
<dd><p>Path to the crontab’s backup</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.BASE_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">BASE_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam')</span></em><a class="headerlink" href="#zanzocam.constants.BASE_PATH" title="Link to this definition"></a></dt>
<dd><p>Folder containing the source code</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CAMERA_DEFAULTS">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CAMERA_DEFAULTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'awb_mode':</span> <span class="pre">'auto',</span> <span class="pre">'background_color':</span> <span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0),</span> <span class="pre">'date_format':</span> <span class="pre">'%d</span> <span class="pre">%B</span> <span class="pre">%Y',</span> <span class="pre">'extension':</span> <span class="pre">'jpg',</span> <span class="pre">'height':</span> <span class="pre">100,</span> <span class="pre">'hor_flip':</span> <span class="pre">False,</span> <span class="pre">'jpeg_quality':</span> <span class="pre">90,</span> <span class="pre">'jpeg_subsampling':</span> <span class="pre">0,</span> <span class="pre">'let_awb_settle_in_dark':</span> <span class="pre">False,</span> <span class="pre">'name':</span> <span class="pre">'no-name',</span> <span class="pre">'rotation':</span> <span class="pre">0,</span> <span class="pre">'time_format':</span> <span class="pre">'%H:%M',</span> <span class="pre">'use_low_light_algorithm':</span> <span class="pre">True,</span> <span class="pre">'ver_flip':</span> <span class="pre">False,</span> <span class="pre">'width':</span> <span class="pre">100}</span></em><a class="headerlink" href="#zanzocam.constants.CAMERA_DEFAULTS" title="Link to this definition"></a></dt>
<dd><p>Fallback values for the camera configuration</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CAMERA_LOGS">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CAMERA_LOGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/camera')</span></em><a class="headerlink" href="#zanzocam.constants.CAMERA_LOGS" title="Link to this definition"></a></dt>
<dd><p>Logs produced during the main procedure (will be sent to the server)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CAMERA_WARM_UP_TIME">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CAMERA_WARM_UP_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#zanzocam.constants.CAMERA_WARM_UP_TIME" title="Link to this definition"></a></dt>
<dd><p>Time to allow the firmware to compute the right exposure in normal
light conditions (AWB requires more)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CHECK_UPLINK_URL">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CHECK_UPLINK_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.google.com'</span></em><a class="headerlink" href="#zanzocam.constants.CHECK_UPLINK_URL" title="Link to this definition"></a></dt>
<dd><p>URL to check to ensure Internet is reachable</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CONFIGURATION_FILE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CONFIGURATION_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/configuration.json')</span></em><a class="headerlink" href="#zanzocam.constants.CONFIGURATION_FILE" title="Link to this definition"></a></dt>
<dd><p>Main configuration file</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.CRONJOB_FILE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">CRONJOB_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/etc/cron.d/zanzocam'</span></em><a class="headerlink" href="#zanzocam.constants.CRONJOB_FILE" title="Link to this definition"></a></dt>
<dd><p>Path to the system crontab</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.DATA_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">DATA_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data')</span></em><a class="headerlink" href="#zanzocam.constants.DATA_PATH" title="Link to this definition"></a></dt>
<dd><p>Folder containing the data used by the ZanzoCam for its operations</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.FAILURE_REPORT_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">FAILURE_REPORT_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/failure_report.txt')</span></em><a class="headerlink" href="#zanzocam.constants.FAILURE_REPORT_PATH" title="Link to this definition"></a></dt>
<dd><p>Logs produced in case of issues with the server</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.FONT_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">FONT_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf'</span></em><a class="headerlink" href="#zanzocam.constants.FONT_PATH" title="Link to this definition"></a></dt>
<dd><p>Path to the default font (can be customized if you install another font)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.FTP_CONFIG_FILE_ENCODING">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">FTP_CONFIG_FILE_ENCODING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'utf-8'</span></em><a class="headerlink" href="#zanzocam.constants.FTP_CONFIG_FILE_ENCODING" title="Link to this definition"></a></dt>
<dd><p>Ecoding of the FTP server files</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.IMAGE_OVERLAYS_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">IMAGE_OVERLAYS_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/overlays')</span></em><a class="headerlink" href="#zanzocam.constants.IMAGE_OVERLAYS_PATH" title="Link to this definition"></a></dt>
<dd><p>Local camera overlays path</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.INITIAL_LOW_LIGHT_ISO">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">INITIAL_LOW_LIGHT_ISO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#zanzocam.constants.INITIAL_LOW_LIGHT_ISO" title="Link to this definition"></a></dt>
<dd><p>Starting ISO level for low light pictures</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.LOCALE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">LOCALE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'it_IT.utf8'</span></em><a class="headerlink" href="#zanzocam.constants.LOCALE" title="Link to this definition"></a></dt>
<dd><p>Locale</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.LOG_NAME_FORMAT">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">LOG_NAME_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'logs</span> <span class="pre">%d-%m-%Y</span> <span class="pre">%H:%M:%S.log'</span></em><a class="headerlink" href="#zanzocam.constants.LOG_NAME_FORMAT" title="Link to this definition"></a></dt>
<dd><p>Used with datetime to format the log name</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.MAX_SHUTTER_SPEED">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">MAX_SHUTTER_SPEED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9500000</span></em><a class="headerlink" href="#zanzocam.constants.MAX_SHUTTER_SPEED" title="Link to this definition"></a></dt>
<dd><p>Max shutter speed allowed by the camera hardware</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.MINIMUM_DAYLIGHT_LUMINANCE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">MINIMUM_DAYLIGHT_LUMINANCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#zanzocam.constants.MINIMUM_DAYLIGHT_LUMINANCE" title="Link to this definition"></a></dt>
<dd><p>Minimum luminance for the daytime.
If the detected luminance goes below this value, the night mode kicks in.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.MINIMUM_NIGHT_LUMINANCE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">MINIMUM_NIGHT_LUMINANCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30</span></em><a class="headerlink" href="#zanzocam.constants.MINIMUM_NIGHT_LUMINANCE" title="Link to this definition"></a></dt>
<dd><p>Minimum luminance to target for pictures in low light conditions.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.MIN_SHUTTER_SPEED">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">MIN_SHUTTER_SPEED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30000</span></em><a class="headerlink" href="#zanzocam.constants.MIN_SHUTTER_SPEED" title="Link to this definition"></a></dt>
<dd><p>Min shutter speed for low light, the
max that PiCamera would use with automatic settings</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.NO_LUMINANCE_SHUTTER_SPEED">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">NO_LUMINANCE_SHUTTER_SPEED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000000</span></em><a class="headerlink" href="#zanzocam.constants.NO_LUMINANCE_SHUTTER_SPEED" title="Link to this definition"></a></dt>
<dd><p>What “random” shutter speed to use if the image
is so black that the equation doesn’t work</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.NO_LUMINANCE_THRESHOLD">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">NO_LUMINANCE_THRESHOLD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#zanzocam.constants.NO_LUMINANCE_THRESHOLD" title="Link to this definition"></a></dt>
<dd><p>When to consider the image totally black,
where the low light estimation doesn’t work well</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.OVERLAY_DEFAULTS">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">OVERLAY_DEFAULTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'background_color':</span> <span class="pre">(255,</span> <span class="pre">255,</span> <span class="pre">255,</span> <span class="pre">0),</span> <span class="pre">'font_color':</span> <span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0),</span> <span class="pre">'font_size':</span> <span class="pre">30,</span> <span class="pre">'heigth':</span> <span class="pre">None,</span> <span class="pre">'image':</span> <span class="pre">None,</span> <span class="pre">'over_the_picture':</span> <span class="pre">False,</span> <span class="pre">'padding':</span> <span class="pre">10,</span> <span class="pre">'text':</span> <span class="pre">'...</span> <span class="pre">testo</span> <span class="pre">...',</span> <span class="pre">'width':</span> <span class="pre">None}</span></em><a class="headerlink" href="#zanzocam.constants.OVERLAY_DEFAULTS" title="Link to this definition"></a></dt>
<dd><p>Fallback values for the image overlays</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.PICAMERA_AWB_MODES">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">PICAMERA_AWB_MODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['off',</span> <span class="pre">'auto',</span> <span class="pre">'sunlight',</span> <span class="pre">'cloudy',</span> <span class="pre">'shade',</span> <span class="pre">'tungsten',</span> <span class="pre">'fluorescent',</span> <span class="pre">'incandescent',</span> <span class="pre">'flash',</span> <span class="pre">'horizon']</span></em><a class="headerlink" href="#zanzocam.constants.PICAMERA_AWB_MODES" title="Link to this definition"></a></dt>
<dd><p>White balancing modes from picamera</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.PICTURE_LOGS">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">PICTURE_LOGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/picture_logs.txt')</span></em><a class="headerlink" href="#zanzocam.constants.PICTURE_LOGS" title="Link to this definition"></a></dt>
<dd><p>Temporary camera logs for the web UI</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.PREVIEW_PICTURE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">PREVIEW_PICTURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/web_ui/static/previews/zanzocam-preview.jpg')</span></em><a class="headerlink" href="#zanzocam.constants.PREVIEW_PICTURE" title="Link to this definition"></a></dt>
<dd><p>Path to the preview picture in the web UI</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.PREVIEW_PICTURE_URL">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">PREVIEW_PICTURE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'static/previews/zanzocam-preview.jpg'</span></em><a class="headerlink" href="#zanzocam.constants.PREVIEW_PICTURE_URL" title="Link to this definition"></a></dt>
<dd><p>URL to the preview picture in the web UI</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.REMOTE_IMAGES_PATH">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">REMOTE_IMAGES_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'configuration/overlays/'</span></em><a class="headerlink" href="#zanzocam.constants.REMOTE_IMAGES_PATH" title="Link to this definition"></a></dt>
<dd><p>Remote camera overlays path</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.REQUEST_TIMEOUT">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">REQUEST_TIMEOUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#zanzocam.constants.REQUEST_TIMEOUT" title="Link to this definition"></a></dt>
<dd><p>Timeout for HTTP requests</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.SEND_LOGS_FLAG">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">SEND_LOGS_FLAG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/send-logs.flag')</span></em><a class="headerlink" href="#zanzocam.constants.SEND_LOGS_FLAG" title="Link to this definition"></a></dt>
<dd><p>Whether to send the logs to the server</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.SERVER_LOG">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">SERVER_LOG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/interface.log')</span></em><a class="headerlink" href="#zanzocam.constants.SERVER_LOG" title="Link to this definition"></a></dt>
<dd><p>Logs of the local server (stay on disk and get rotated)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.SYSTEM_USER">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">SYSTEM_USER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'zanzocam-bot'</span></em><a class="headerlink" href="#zanzocam.constants.SYSTEM_USER" title="Link to this definition"></a></dt>
<dd><p>Main user of the system, must be able to perform a passwordless sudo</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.TARGET_LUMINOSITY_MARGIN">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">TARGET_LUMINOSITY_MARGIN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#zanzocam.constants.TARGET_LUMINOSITY_MARGIN" title="Link to this definition"></a></dt>
<dd><p>How much tolerance to give to the low light search algorithm</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.TEMP_CRONJOB">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">TEMP_CRONJOB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/.tmp-cronjob-file')</span></em><a class="headerlink" href="#zanzocam.constants.TEMP_CRONJOB" title="Link to this definition"></a></dt>
<dd><p>Temporary crontab path</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.VERSION">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">VERSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'1.3.6'</span></em><a class="headerlink" href="#zanzocam.constants.VERSION" title="Link to this definition"></a></dt>
<dd><p>ZanzoCam version</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.WAIT_AFTER_CAMERA_FAIL">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">WAIT_AFTER_CAMERA_FAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30</span></em><a class="headerlink" href="#zanzocam.constants.WAIT_AFTER_CAMERA_FAIL" title="Link to this definition"></a></dt>
<dd><p>Time to wait in between failed shots of the camera
(to overcome colliding crontabs)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="zanzocam.constants.ZANZOCAM_EXECUTABLE">
<span class="sig-prename descclassname"><span class="pre">zanzocam.constants.</span></span><span class="sig-name descname"><span class="pre">ZANZOCAM_EXECUTABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/home/zanzocam-bot/venv/bin/z-webcam'</span></em><a class="headerlink" href="#zanzocam.constants.ZANZOCAM_EXECUTABLE" title="Link to this definition"></a></dt>
<dd><p>Location of the z-webcam executable</p>
</dd></dl>

</section>
<hr class="docutils" />
<section id="main-module">
<h2>Main module<a class="headerlink" href="#main-module" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.main</span></code> module contains the main script that is
executed at every trigger.</p>
<p>Here is some internal documentation of it.</p>
</section>
<section id="configuration-module">
<h2>Configuration module<a class="headerlink" href="#configuration-module" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.configuration</span></code> module.</p>
<dl class="py class" id="module-zanzocam.webcam.configuration">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.configuration.</span></span><span class="sig-name descname"><span class="pre">Configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages the configurations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.backup">
<span class="sig-name descname"><span class="pre">backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.backup" title="Link to this definition"></a></dt>
<dd><p>Creates a backup copy of the configuration file.</p>
<p>NOTE: we backup from memory and not simply copy the file
because the file might have been overwritten by a server
(server.update_configuration()) in the meantime.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.create_from_dictionary">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_from_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration" title="zanzocam.webcam.configuration.Configuration"><span class="pre">Configuration</span></a></span></span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.create_from_dictionary" title="Link to this definition"></a></dt>
<dd><p>Creates a Configuration object starting from a dictionary. Will
save the configuration file at the specified path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.get_camera_settings">
<span class="sig-name descname"><span class="pre">get_camera_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.get_camera_settings" title="Link to this definition"></a></dt>
<dd><p>Return all the information relative to the settings
used to take and render the picture.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.get_server_settings">
<span class="sig-name descname"><span class="pre">get_server_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.get_server_settings" title="Link to this definition"></a></dt>
<dd><p>Return all the information relative to the settings
used to connect to the server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.get_start_time">
<span class="sig-name descname"><span class="pre">get_start_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.get_start_time" title="Link to this definition"></a></dt>
<dd><p>Return either the start time defined, or 00:00</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.get_stop_time">
<span class="sig-name descname"><span class="pre">get_stop_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.get_stop_time" title="Link to this definition"></a></dt>
<dd><p>Return either the stop time defined, or 23:59</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.get_system_settings">
<span class="sig-name descname"><span class="pre">get_system_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.get_system_settings" title="Link to this definition"></a></dt>
<dd><p>Return all the information relative to the settings
that should be applied to the system.</p>
<p>For now is just the time settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.list_overlays">
<span class="sig-name descname"><span class="pre">list_overlays</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.list_overlays" title="Link to this definition"></a></dt>
<dd><p>List all the overlay images that should be downloaded from the server</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.restore_backup">
<span class="sig-name descname"><span class="pre">restore_backup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.restore_backup" title="Link to this definition"></a></dt>
<dd><p>Restores the configuration file from its backup copy.
Does not try to reload the old config.</p>
<p>Returns True in case of no errors, False otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.Configuration.within_active_hours">
<span class="sig-name descname"><span class="pre">within_active_hours</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#zanzocam.webcam.configuration.Configuration.within_active_hours" title="Link to this definition"></a></dt>
<dd><p>Compares the current time with the start-stop times.</p>
<p>Returns True if inside the interval, False if outside,
None if an error occured.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zanzocam.webcam.configuration.load_configuration_from_disk">
<span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.configuration.</span></span><span class="sig-name descname"><span class="pre">load_configuration_from_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/configuration.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/zanzocam-core/zanzocam-core/zanzocam/data/configuration.json.bak'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#zanzocam.webcam.configuration.Configuration" title="zanzocam.webcam.configuration.Configuration"><span class="pre">Configuration</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#zanzocam.webcam.configuration.load_configuration_from_disk" title="Link to this definition"></a></dt>
<dd><p>Load current configuration from disk,
or try with its backup if the file is not found.</p>
<p>Returns None if some error occurred.</p>
</dd></dl>

</section>
<section id="system-module">
<h2>System module<a class="headerlink" href="#system-module" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.system</span></code> module.</p>
</section>
<section id="camera-module">
<h2>Camera module<a class="headerlink" href="#camera-module" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.camera</span></code> module.</p>
</section>
<section id="overlays-module">
<h2>Overlays module<a class="headerlink" href="#overlays-module" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.overlays</span></code> module.</p>
<dl class="py class" id="module-zanzocam.webcam.overlays">
<dt class="sig sig-object py" id="zanzocam.webcam.overlays.Overlay">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.overlays.</span></span><span class="sig-name descname"><span class="pre">Overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">photo_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">photo_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.overlays.Overlay" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents one overlay to add to the picture.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.overlays.Overlay.compute_position">
<span class="sig-name descname"><span class="pre">compute_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_bottom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zanzocam.webcam.overlays.Overlay.compute_position" title="Link to this definition"></a></dt>
<dd><p>Returns the x,y position in the picture where this overlay
should be pasted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.overlays.Overlay.create_image_overlay">
<span class="sig-name descname"><span class="pre">create_image_overlay</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#zanzocam.webcam.overlays.Overlay.create_image_overlay" title="Link to this definition"></a></dt>
<dd><p>Prepares an overlay containing an image.
Might return None in case of issues.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.overlays.Overlay.create_text_overlay">
<span class="sig-name descname"><span class="pre">create_text_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photo_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">photo_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#zanzocam.webcam.overlays.Overlay.create_text_overlay" title="Link to this definition"></a></dt>
<dd><p>Prepares an overlay containing text.
In case of issues, self.overlay_image will stay None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.overlays.Overlay.process_text">
<span class="sig-name descname"><span class="pre">process_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_line_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zanzocam.webcam.overlays.Overlay.process_text" title="Link to this definition"></a></dt>
<dd><p>Measures and insert returns into the text to make it fit into the image.</p>
</dd></dl>

</dd></dl>

</section>
<section id="utils-module">
<h2>Utils module<a class="headerlink" href="#utils-module" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.utils</span></code> module.</p>
<dl class="py class" id="module-zanzocam.webcam.utils">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.AllStringEncoder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.utils.</span></span><span class="sig-name descname"><span class="pre">AllStringEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.utils.AllStringEncoder" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">JSONEncoder</span></code></p>
<p>To transform every value into a string</p>
<dl class="py method">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.AllStringEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.utils.AllStringEncoder.default" title="Link to this definition"></a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.log">
<span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.utils.</span></span><span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zanzocam.webcam.utils.log" title="Link to this definition"></a></dt>
<dd><p>Logs the message to the console</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.log_error">
<span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.utils.</span></span><span class="sig-name descname"><span class="pre">log_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Exception</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fatal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zanzocam.webcam.utils.log_error" title="Link to this definition"></a></dt>
<dd><p>Logs an error to the console</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.log_row">
<span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.utils.</span></span><span class="sig-name descname"><span class="pre">log_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">char</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'='</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#zanzocam.webcam.utils.log_row" title="Link to this definition"></a></dt>
<dd><p>Logs a row to the console</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zanzocam.webcam.utils.retry">
<span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.utils.</span></span><span class="sig-name descname"><span class="pre">retry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_for</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zanzocam.webcam.utils.retry" title="Link to this definition"></a></dt>
<dd><p>Makes the decorated function try to run without
exceptions ‘times’ times.
If an exception occurs, logs it and tries again
after <cite>wait_for</cite> seconds.
Otherwise returns at the first successful attempt.</p>
<p>Returns None in case there is an exception at the
last run as well.</p>
</dd></dl>

</section>
<section id="custom-errors">
<h2>Custom Errors<a class="headerlink" href="#custom-errors" title="Link to this heading"></a></h2>
<p>Details of the <code class="docutils literal notranslate"><span class="pre">zanzocam.webcam.errors</span></code> module.</p>
<dl class="py exception" id="module-zanzocam.webcam.errors">
<dt class="sig sig-object py" id="zanzocam.webcam.errors.ServerError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zanzocam.webcam.errors.</span></span><span class="sig-name descname"><span class="pre">ServerError</span></span><a class="headerlink" href="#zanzocam.webcam.errors.ServerError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Sara Zanzottera.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>